Multithread ring buffer with one producer and one consumer
